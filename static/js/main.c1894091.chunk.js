(this["webpackJsonpfilter-users-task"]=this["webpackJsonpfilter-users-task"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(9),r=n.n(c),l=(n(16),n(4)),i=n(2),o=n(3);function j(){return JSON.parse(localStorage.getItem("randomPeople"))}function u(){return JSON.parse(localStorage.getItem("filteredPeople"))}function b(){return JSON.parse(localStorage.getItem("myFriends"))}function d(e){localStorage.setItem("randomPeople",JSON.stringify(e))}function m(e){localStorage.setItem("filteredPeople",JSON.stringify(e))}var f=n(0),O=function(e){var t=e.numberOfUsers,n=e.setNumberOfUsers,a=e.setLoadNewUsers;return Object(f.jsxs)("div",{className:"extra-buttons",children:[Object(f.jsxs)("label",{className:"label",htmlFor:"numder-of-users",children:["How many users to download",Object(f.jsx)("input",{type:"number",id:"numder-of-users",value:t,onChange:function(e){e.target.value>=50?n(50):e.target.value>0&&n(e.target.value)}})]}),Object(f.jsx)("button",{className:"button",onClick:function(){return a(!0)},children:"Load new users"})]})},h=n(11),x=function(e){var t=e.setRandomUsers,n=Object(a.useState)("all"),s=Object(o.a)(n,2),c=s[0],r=s[1],l=Object(a.useState)([]),i=Object(o.a)(l,2),u=i[0],b=i[1],d=Object(a.useState)(18),O=Object(o.a)(d,2),x=O[0],v=O[1],g=Object(a.useState)(90),_=Object(o.a)(g,2),N=_[0],p=_[1];return Object(f.jsxs)("form",{className:"filter-form",onSubmit:function(e){return e.preventDefault()},children:[Object(f.jsx)("b",{className:"filter-form__categorie-title",children:"Categories"}),Object(f.jsxs)("label",{className:"filter-form__label",htmlFor:"filterByGender",children:[Object(f.jsx)("b",{children:"Gender"}),Object(f.jsxs)("select",{value:c,onChange:function(e){return r(e.target.value)},name:"gender",id:"filterByGender",className:"filter-form__select",children:[Object(f.jsx)("option",{value:"all",children:"All"}),Object(f.jsx)("option",{value:"male",children:"Male"}),Object(f.jsx)("option",{value:"female",children:"Female"})]})]}),Object(f.jsxs)("label",{className:"filter-form__label",htmlFor:"filterByNationality",children:[Object(f.jsx)("b",{children:"Nationality"}),Object(f.jsxs)("select",{multiple:!0,size:"5",value:u,onChange:function(e){return function(e){if(u.find((function(t){return t===e}))||b([].concat(Object(h.a)(u),[e])),u.find((function(t){return t===e}))){var t=u,n=t.indexOf(e);t.splice(n,1),b(t)}}(e.target.value)},name:"nationality",id:"filterByNationality",className:"filter-form__select",children:[Object(f.jsx)("option",{value:"AU",children:"AU"}),Object(f.jsx)("option",{value:"BR",children:"BR"}),Object(f.jsx)("option",{value:"CA",children:"CA"}),Object(f.jsx)("option",{value:"CH",children:"CH"}),Object(f.jsx)("option",{value:"DE",children:"DE"}),Object(f.jsx)("option",{value:"DK",children:"DK"}),Object(f.jsx)("option",{value:"ES",children:"ES"}),Object(f.jsx)("option",{value:"FI",children:"FI"}),Object(f.jsx)("option",{value:"FR",children:"FR"}),Object(f.jsx)("option",{value:"GB",children:"GB"}),Object(f.jsx)("option",{value:"IE",children:"IE"}),Object(f.jsx)("option",{value:"IR",children:"IR"}),Object(f.jsx)("option",{value:"NO",children:"NO"}),Object(f.jsx)("option",{value:"NL",children:"NL"}),Object(f.jsx)("option",{value:"NZ",children:"NZ"}),Object(f.jsx)("option",{value:"TR",children:"TR"}),Object(f.jsx)("option",{value:"US",children:"US"})]}),Object(f.jsx)("button",{className:"button",onClick:function(){return b([])},children:"Clear nationality filter"})]}),Object(f.jsxs)("label",{className:"filter-form__label",htmlFor:"filterByAge",children:[Object(f.jsx)("b",{children:"Age"}),Object(f.jsxs)("div",{className:"from-to",children:[Object(f.jsx)("input",{className:"filter-form__fromTo",value:x,type:"number",name:"age-from",id:"filterByAge",onChange:function(e){e.target.value>=0&&v(e.target.value),e.target.value>=N&&v(N-1)}}),"\u2014",Object(f.jsx)("input",{className:"filter-form__fromTo",value:N,type:"number",name:"age-to",id:"filterByAge",onChange:function(e){e.target.value>=0&&p(e.target.value),e.target.value<=x&&p(+x+1),e.target.value>=90&&p(90)}})]})]}),Object(f.jsx)("button",{className:"button",onClick:function(){return function(e,n,a,s){if(r("all"),b([]),"all"!==e||0!==n.length||18!==+a||90!==+s){var c=j().filter((function(e){return e.dob.age>+a&&e.dob.age<+s})),l=[];if(18===+a&&90===+s||(t(c),m(c)),"all"!==e&&n.length){for(var i=c.filter((function(t){return t.gender===e})),o=0;o<i.length;o++)for(var u=0;u<n.length;u++)i[o].nat===n[u]&&l.push(i[o]);return t(l),void m(l)}if("all"!==e)t(c.filter((function(t){return t.gender===e}))),m(c.filter((function(t){return t.gender===e})));else if(n.length){for(var d=0;d<c.length;d++)for(var f=0;f<n.length;f++)c[d].nat===n[f]&&l.push(c[d]);t(l),m(l)}}else t(j())}(c,u,x,N)},children:"Apply filters"}),Object(f.jsx)("button",{className:"button",onClick:function(){var e=j();t(e),localStorage.setItem("filteredPeople",JSON.stringify(e)),r("all"),b([])},children:"Clear filter"})]})},v=function(e){var t=e.users,n=e.setUsers,a=e.button,s=function(e){var t,a=j().filter((function(t){return t.email!==e.email})),s=u().filter((function(t){return t.email!==e.email})),c=b()||[];c.push(e),d(a),m(s),t=c,localStorage.setItem("myFriends",JSON.stringify(t)),n(s)};return Object(f.jsx)(f.Fragment,{children:t.map((function(e){return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("img",{className:"card__user-photo",src:e.picture.large,alt:e.name.first,draggable:!1}),Object(f.jsxs)("div",{className:"card__user-info",children:[Object(f.jsx)("b",{className:"card__name",children:"".concat(e.name.first," ").concat(e.name.last)}),Object(f.jsx)("a",{className:"card__email",href:"mailto:".concat(e.email),children:e.email}),Object(f.jsx)("a",{className:"card__phone",href:"tel:+".concat(e.phone),children:e.phone}),Object(f.jsx)("div",{className:"card__dob",children:"".concat(e.dob.date.substr(0,10),", (").concat(e.dob.age," y.o.)")}),"add friend"===a&&Object(f.jsx)("button",{onClick:function(){return s(e)},className:"button button__user-card",children:"Add to friends"}),"open chat"===a&&Object(f.jsx)(l.b,{to:"/messages",className:"button button__user-card",children:"Send message"})]})]},e.email)}))})},g=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(15),r=Object(o.a)(c,2),l=r[0],i=r[1],b=Object(a.useState)(u()||j()||[]),h=Object(o.a)(b,2),g=h[0],_=h[1];return Object(a.useEffect)((function(){if(!g.length||n){var e="https://randomuser.me/api/?results=".concat(l,"&inc=gender,email,dob,name,picture,nat,phone");fetch(e).then((function(e){return e.json()})).then((function(e){_(e.results),d(e.results),m(e.results)})),s(!1)}}),[n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("main",{className:"main",children:[Object(f.jsx)("div",{className:"main__left-bar",children:Object(f.jsx)(x,{setRandomUsers:_})}),Object(f.jsx)("div",{className:"main__users",children:Object(f.jsx)(v,{users:g,setUsers:_,button:"add friend"})})]}),Object(f.jsx)("footer",{className:"footer",children:Object(f.jsx)(O,{numberOfUsers:l,setNumberOfUsers:i,setLoadNewUsers:s})})]})},_=function(){var e=Object(a.useState)(b()||[]),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(f.jsxs)("main",{className:"main",children:[Object(f.jsx)("div",{className:"main__left-bar",children:n.length?Object(f.jsx)(f.Fragment,{}):Object(f.jsx)(l.b,{to:"/fnf",className:"button button__no-friends",children:"Find your friends first"})}),Object(f.jsx)("div",{className:"main__users",children:Object(f.jsx)(v,{users:n,setUsers:s,button:"open chat"})})]})},N=function(){return Object(f.jsx)("main",{className:"main",children:"Home component"})},p=function(e){e.selectedChat;return Object(f.jsx)(f.Fragment,{})},S=n(10),y=n.n(S),F=function(e){var t=e.myFriends,n=e.selectedUser,a=e.setSelectedUser;return Object(f.jsx)(f.Fragment,{children:t.map((function(e){return Object(f.jsxs)("div",{className:y()("message-card",{"message-card--active":n===e.email}),onClick:function(){return a(e.email)},children:[Object(f.jsx)("img",{className:"message-card__photo",src:e.picture.thumbnail,alt:e.name.first,draggable:!1}),Object(f.jsxs)("b",{className:"message-card__name",children:[e.name.first,Object(f.jsx)("br",{}),e.name.last]})]},e.email)}))})},C=function(){var e=b()||[],t=Object(a.useState)(""),n=Object(o.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)({}),i=Object(o.a)(r,2),j=i[0],u=i[1];return Object(a.useEffect)((function(){""!==s&&u(e.find((function(e){return e.email===s})))}),[s]),Object(f.jsxs)("main",{className:"main",children:[Object(f.jsx)("div",{className:"main__left-bar",children:e.length?Object(f.jsx)(F,{myFriends:e,selectedUser:s,setSelectedUser:c}):Object(f.jsx)(l.b,{to:"/fnf",className:"button button__no-friends",children:"Find friends to start a conversation"})}),Object(f.jsx)("div",{className:"main__chat-area",children:Object(f.jsx)(p,{selectedChat:j})})]})},U=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("header",{className:"header",children:[Object(f.jsxs)("div",{className:"header__logo-title",children:[Object(f.jsx)(l.b,{to:"/",className:"logo"}),Object(f.jsx)("h1",{className:"header__title",children:"friendbook"})]}),Object(f.jsxs)("nav",{className:"nav",children:[Object(f.jsx)(l.c,{to:"/",className:function(e){return"nav__button"+(e.isActive?" nav__button--active":"")},children:"Home"}),Object(f.jsx)(l.c,{to:"/mf",className:function(e){return"nav__button"+(e.isActive?" nav__button--active":"")},children:"My friends"}),Object(f.jsx)(l.c,{to:"/messages",className:function(e){return"nav__button"+(e.isActive?" nav__button--active":"")},children:"Messages"}),Object(f.jsx)(l.c,{to:"/fnf",className:function(e){return"nav__button"+(e.isActive?" nav__button--active":"")},children:"Find new friend"})]})]}),Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{path:"/fnf",element:Object(f.jsx)(g,{})}),Object(f.jsx)(i.a,{path:"/mf",element:Object(f.jsx)(_,{})}),Object(f.jsx)(i.a,{path:"/messages",element:Object(f.jsx)(C,{})}),Object(f.jsx)(i.a,{path:"/",element:Object(f.jsx)(N,{})})]})]})};r.a.render(Object(f.jsx)(l.a,{children:Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(U,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.c1894091.chunk.js.map